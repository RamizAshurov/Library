<html>
  <head>
    <meta charset = "utf-8">
  </head>
  <body>
    <button id = "button" onClick = "getCityNames()">Çàãðóçèòü</button>
    <ul id = "ul"></ul>
    <script>
    	function getCityNames() {
      	return new Promise(function(resolve,reject) {
      		var xhr = new XMLHttpRequest();
      		xhr.open("GET","https://raw.githubusercontent.com/smelukov/citiesTest/master/cities.json",true);	
          xhr.send()
		xhr.onreadystatechange = function() {
            if(xhr.readyState != 4 ) return
            button.remove();
            if (xhr.status != 200) {
          	reject(xhr.status + ": " + xhr.statusText)
          	} else {
            resolve(JSON.parse(xhr.responseText))
            }
          }
      	})
    	}
      getCityNames().then(function(result) {
      	var arr = result.map(function(item) {
        	return item.name
        });
        arr.sort();
        arr.forEach(function(city) {
        	var li = ul.appendChild(document.createElement("li"));
          li.innerHTML = city
        })
      },function(error) {alert(error)})
    	button.innerHTML = 'Загружаю...';
    </script>
  </body>
</html>
